%!TEX program = xelatex

\documentclass[compress]{beamer}
%--------------------------------------------------------------------------
% Common packages
%--------------------------------------------------------------------------
\usepackage[english]{babel}
\usepackage{pgfpages} % required for notes on second screen
\usepackage{graphicx}

\usepackage{multicol}

\usepackage{tabularx,ragged2e}
\usepackage{booktabs}

\usepackage{listings}
\lstset{ %
language=[LaTeX]TeX,
basicstyle=\normalsize\ttfamily,
keywordstyle=,
numbers=left,
numberstyle=\tiny\ttfamily,
stepnumber=1,
showspaces=false,
showstringspaces=false,
showtabs=false,
breaklines=true,
frame=tb,
framerule=0.5pt,
tabsize=4,
framexleftmargin=0.5em,
framexrightmargin=0.5em,
xleftmargin=0.5em,
xrightmargin=0.5em
}


%--------------------------------------------------------------------------
% Load theme
%--------------------------------------------------------------------------
\usetheme{hri}

\usepackage{dtklogos} % must be loaded after theme
\usepackage{tikz}
\usetikzlibrary{intersections,arrows,shapes,calc,mindmap,backgrounds,positioning,svg.path}

\tikzset{box/.style={
            draw, 
            fill=blue!20,
            fill opacity=0.8,
            thick,
            inner sep=0pt,
            minimum size=1cm,
            transform shape
        },
        finalbox/.style={
            draw, 
            fill=orange,
            fill opacity=0.8,
            thick,
            inner sep=0pt,
            minimum size=1cm,
            transform shape
        },
        dot/.style={
            draw,
            circle,
            fill=red!20,
            inner sep=0pt,
            minimum size=1cm,
            transform shape
        },
        axis/.style={
            thick,
            gray,
            font=\small},
        every to/.style={
            >=latex,
            dashed,
            thick
        }
    }


\graphicspath{{figs/}}

%--------------------------------------------------------------------------
% General presentation settings
%--------------------------------------------------------------------------
\title{The Robot Operating System}
\subtitle{High-Altitude Overview of ROS}
\date{\today}
\author{Séverin Lemaignan}
\institute{Centre for Robotics and Neural Systems\\ {\Medium Plymouth University}}

%--------------------------------------------------------------------------
% Notes settings
%--------------------------------------------------------------------------
%\setbeameroption{show notes on second screen}

\begin{document}
%--------------------------------------------------------------------------
% Titlepage
%--------------------------------------------------------------------------

\maketitle

%--------------------------------------------------------------------------
% Table of contents
%--------------------------------------------------------------------------
%\section*{Overview}
%\begin{frame}{Overview}
%	% hideallsubsections ist empfehlenswert für längere Präsentationen
%	\tableofcontents[hideallsubsections]
%\end{frame}

%--------------------------------------------------------------------------
% Content
%--------------------------------------------------------------------------
\section{ROS is not an operating system}

\begin{frame}{Instead, ROS is...}
    \begin{itemize}
        \item<1-> A fairly simple peer-to-peer message passing system designed with robotics in
            mind
        \item<2-> An API to this system (in several languages -- C++ and Python are
            1st tier)
        \item<3-> A set of standard message types that facilitate interoperability between modules
        \item<4> \Medium{A middleware?}
        \item<5-> A set of conventions to write and package robotic softwares
        \item<6-> Deep integration of a few key open-source libraries (OpenCV, PCL, tf)
        \item<7-> A set of tools to run and monitor the nodes
        \item<8-> Engagement of a large academic community, leading to a library of thousands of nodes
    \end{itemize}
\end{frame}

\begin{frame}{ROS Ecosystem}
    \centering
    \resizebox{0.9\textwidth}{!}{%
        \vspace*{4cm}
        \begin{tikzpicture}

            \path[small mindmap,
                  level 1 concept/.append style={sibling angle=360/5}, 
                  level 2 concept/.append style={sibling angle=60}, 
                  concept color=hriWarmGreyLight,text=hriWarmGreyDark]

            node[concept] {\Medium ROS}
            [clockwise from=-180]
            child[concept color=hriSec1Dark,text=white] { node[concept]{Middleware} 
                [clockwise from=-120]
                child[concept color=hriSec1CompDark,text=white] { node[concept]{Standard Interfaces} }
                child[concept color=hriSec3CompDark,text=white] { node[concept]{Nodes Management} }
                child[concept color=hriSec2Dark,text=white] { node[concept]{IPC} }
            }
            child[concept color=hriSec3Comp,text=white] { node[concept] {Standards and Conventions} }
            child[concept color=hriSec2CompDark,text=white] { node[concept]{Community}
                [clockwise from=90]
                child[concept color=hriSec2Comp,text=white] { node[concept]{Software engineering infrastructure} }
                child[concept color=hriSec1,text=white] { node[concept] {REPs} }
                child[concept color=hriSec3,text=white] { node[concept] {ROSCon} }
            }
            child[concept color=hriSec3Dark,text=white] { node[concept] {Large software library} 
                [clockwise from=0]
                child[concept color=hriSec2Dark,text=white] { node[concept] {Satellite libraries} }
            }
            child[concept color=hriSec3CompDark,text=white] { node[concept] {Tooling} };
        \end{tikzpicture}
    }
\end{frame}

\begin{frame}{}
    This being clarified...
\end{frame}

\section{How does it look like?}

\begin{frame}[containsverbatim]{}

\begin{shcode}
$ roscore
$ rosrun rviz rviz
$ roslaunch openni_launch openni.launch
\end{shcode}

\end{frame}


\imageframe[black]{}{rviz0}

\begin{frame}[containsverbatim]{}

\begin{shcode}
$ rosrun attention_tracker estimate 
                         image:=/camera/rgb/image_color
\end{shcode}

\end{frame}

\imageframe[black]{}{rviz}

\begin{frame}[containsverbatim]{}
\begin{shcode}
$ rosnode list 
/camera_base_link
/camera_base_link1
/camera_base_link2
/camera_base_link3
/ros_attention_tracker
/rosout
/camera/camera_nodelet_manager
/camera/debayer
/camera/depth_metric
/camera/depth_metric_rect
/camera/depth_points
/camera/depth_rectify_depth
/camera/depth_registered_hw_metric_rect
/camera/depth_registered_metric
/camera/depth_registered_rectify_depth
/camera/depth_registered_sw_metric_rect
/camera/disparity_depth
/camera/disparity_registered_hw
/camera/disparity_registered_sw
/camera/driver
/camera/points_xyzrgb_hw_registered
/camera/points_xyzrgb_sw_registered
/camera/rectify_color
/camera/rectify_ir
/camera/rectify_mono
/camera/register_depth_rgb
\end{shcode}

\end{frame}

\begin{frame}[containsverbatim]{}
\begin{shcode}
$ rostopic list
/camera_info
/image
/nb_detected_faces
/rosout
/rosout_agg
/tf
/camera/depth/image_rect_raw
/camera/depth/image_rect_raw/compressed
/camera/depth/image_rect_raw/compressed/parameter_descriptions
/camera/depth/image_rect_raw/compressed/parameter_updates
/camera/depth/image_rect_raw/compressedDepth
/camera/depth/image_rect_raw/compressedDepth/parameter_descriptions
/camera/depth/image_rect_raw/compressedDepth/parameter_updates
/camera/depth/image_rect_raw/theora
/camera/depth/image_rect_raw/theora/parameter_descriptions
/camera/depth/image_rect_raw/theora/parameter_updates
/camera/depth_rectify_depth/parameter_descriptions
/camera/depth_rectify_depth/parameter_updates
\end{shcode}

\end{frame}

\begin{frame}[containsverbatim]{}
\begin{shcode}
$ rostopic echo tf
transforms: 
  - 
    header: 
      seq: 0
      stamp: 
        secs: 1449222890
        nsecs: 396561780
      frame_id: /camera_link
    child_frame_id: /camera_rgb_frame
    transform: 
      translation: 
        x: 0.0
        y: -0.045
        z: 0.0
      rotation: 
        x: 0.0
        y: 0.0
        z: 0.0
        w: 1.0
---
transforms: 
  - 
    header: 
      seq: 0
      stamp: 
        secs: 1449222890

\end{shcode}

\end{frame}


\begin{frame}[containsverbatim]{}

\begin{shcode}
$ rosrun rqt_reconfigure rqt_reconfigure
\end{shcode}

\end{frame}


\imageframe[black]{}{dynamic_reconfigure.png}

\begin{frame}{Example: a simple image processing pipeline}

\begin{center}
\begin{tikzpicture}[
                    >=latex,
                    every edge/.style={->, draw, very thick},
                    service/.style={->, draw, very thick,dashed},
                    rosnode/.style={draw, font=\sf, node distance=0.5, rounded
                    corners, align=center, inner sep=5pt,fill=hriSec2Dark!50},
                    topic/.style={font=\tt, node distance=0.5, align=center, inner sep=5pt},
                    pic/.style={fill=none,draw=none}
                ]

    \node [rosnode] at (-4,0) (node1) {image acquisition};
    \node [rosnode] at (0,-2) (node2) {image processor};
    \node [rosnode] at (4,-4) (node3) {next processing};

        \node [topic] at (-4,-1.5) (topic3) {/image};
        \node [topic] at (-1,-3.5) (topic1) {/processed\_image};
        \path (node1) edge[bend right] (node2);
        \path (node2) edge[bend right] (node3);


\end{tikzpicture}
\end{center}

\end{frame}

%\begin{frame}{Example: a simple image processing pipeline}
%
%\begin{center}
%\begin{tikzpicture}[
%                    >=latex,
%                    every edge/.style={->, draw, very thick},
%                    service/.style={->, draw, very thick,dashed},
%                    rosnode/.style={draw, font=\sf, node distance=0.5, rounded
%                    corners, align=center, inner sep=5pt,fill=hriSec2Dark!50},
%                    topic/.style={font=\tt, node distance=0.5, align=center, inner sep=5pt},
%                    pic/.style={fill=none,draw=none}
%                ]
%
%    \node [rosnode] at (-4,0) (node1) {\tt gscam};
%    \node [rosnode] at (0,-2) (node2) {\tt our\_processing};
%    \node [rosnode] at (4,-4) (node3) {\tt next\_processing};
%
%        \node [topic] at (-1.2,-0.7) (topic2) {/v4l/camera/image\_raw};
%        \node [topic] at (-2.4,-2.2) (topic3) {/image};
%        \node [topic] at (1.4,-2.7) (topic1) {/processed\_image};
%        \path (node1) edge[bend right] (node2);
%        \path (node2) edge[bend right] (node3);
%
%
%\end{tikzpicture}
%\end{center}
%
%\end{frame}


\begin{frame}[containsverbatim]{}

\begin{pythoncode}
import sys, cv2, rospy
from sensor_msgs.msg import Image
from cv_bridge import CvBridge

def on_image(image):
    cv_image = bridge.imgmsg_to_cv2(image, "bgr8")
    (rows,cols,channels) = cv_image.shape
    cv2.circle(cv_image, (cols/2,rows/2), 50,(0,0,255), -1)
    cv2.imshow("Image window", cv_image)
    cv2.waitKey(3)
    image_pub.publish(bridge.cv2_to_imgmsg(cv_image, "bgr8"))

rospy.init_node('image_processor')
bridge = CvBridge()
image_sub = rospy.Subscriber("image",Image, on_image)
image_pub = rospy.Publisher("processed_image",Image)

while not rospy.is_shutdown():
    rospy.spin()
\end{pythoncode}

\end{frame}

\begin{frame}[containsverbatim]{}

\begin{shcode}
$ roslaunch gscam v4l.launch
$ python image_processor.py image:=/v4l/camera/image_raw
$ rosrun image_view image_view image:=/processed_image
\end{shcode}

\end{frame}


\imageframe[black]{}{image_processor.png}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{The key concepts}

\begin{frame}{Talking Nodes}

\begin{center}
\begin{tikzpicture}[
                    >=latex,
                    every edge/.style={->, draw, very thick},
                    service/.style={->, draw, very thick,dashed},
                    rosnode/.style={draw, font=\sf, node distance=0.5, rounded
                    corners, align=center, inner sep=5pt,fill=hriSec2Dark!50},
                    topic/.style={font=\tt, node distance=0.5, align=center, inner sep=5pt},
                    pic/.style={fill=none,draw=none}
                ]

    \path[use as bounding box] (-6,1) rectangle (6,-5);
    \node [rosnode] at (0,0) (node1) {node 1};
    \node [rosnode] at (4,-2) (node2) {node 2};
    \node [rosnode] at (-5,-4) (node3) {node 3};

    \uncover<2-> {
        \node [topic] at (1,-2) (topic1) {/topic1};
        \node [topic] at (-1,-3) (topic2) {/topic2};
        \node [topic] at (-4,-2) (topic3) {/topic3};
        \path (node1) edge[bend left] node[label,right] {\only<2-3>{publishes}} (topic1);
        \path (node1) edge[bend right] node[label,left] {\only<2-3>{publishes}} (topic2);
        \path (node3) edge[bend left] node[label,left] {\only<2-3>{publishes}} (topic3);
    }
    \uncover<3-> {
        \path (topic1) edge[bend right] node[label,below left] {\only<3>{subscribes}} (node2);
        \path (topic2) edge[bend left] node[label,below] {\only<3>{subscribes}} (node3);
        \path (topic2) edge[bend right] (node2);
    }
    \only<4-5> {
        \path[->, dashed] ([yshift=2pt]node1.east) edge[bend left] node[label,above right] {service (RPC)} ([xshift=2pt]node2.north) ;
    }
    \only<5> {
        \path[->, dashed] ([xshift=-2pt]node2.north) edge[bend right] ([yshift=-2pt]node1.east);

    }

    \uncover<6-> {
        \path[->, dashed] ([yshift=2pt]node1.east) edge[bend left] node[label,above right] {\only<6,7>{action goal}} ([xshift=2pt]node2.north) ;
    }
    \uncover<7-> {
        \path[->, dashed] ([xshift=-2pt]node2.north) edge[bend right] node[label,below left] {\only<7>{result}} ([yshift=-2pt]node1.east);

    }

    \only<8> {
        \node [rosnode,fill=hriSec3!50] at (-5,0) (roscore) {roscore};
        \path[dashed] (node1) edge[<->,very thin, bend right] node[label,above] {\tiny XML-RPC} (roscore);
        \path[dashed] (node2) edge[<->,very thin, bend right] node[label,above] {\tiny XML-RPC} (roscore);
        \path[dashed] (node3) edge[<->,very thin, bend left] node[label,above right] {\tiny XML-RPC} (roscore);

    }

\end{tikzpicture}
\only<5>{Services: \Medium synchronous}
\only<7>{Actions: \Medium asynchronous}
\only<8>{\tt ROS\_MASTER\_URI=http://<host>:<port>}
\end{center}

\end{frame}

\begin{frame}{Nodelets}

\begin{center}
\begin{tikzpicture}[
                    >=latex,
                    every edge/.style={->, draw, very thick},
                    service/.style={->, draw, very thick,dashed},
                    rosnode/.style={draw, font=\sf, node distance=0.5, rounded
                    corners, align=center, inner sep=5pt,fill=hriSec2Dark!50},
                    topic/.style={font=\tt, node distance=0.5, align=center, inner sep=5pt},
                    pic/.style={fill=none,draw=none}
                ]

    \node [rosnode] at (-4,0) (node1) {image acquisition};
    \node [rosnode] at (0,-2) (node2) {image processor};
    \node [rosnode] at (4,-4) (node3) {next processing};

        \node [topic] at (-4,-1.5) (topic3) {/image};
        \node [topic] at (-1,-3.5) (topic1) {/processed\_image};
        \path (node1) edge[bend right] (node2);
        \path (node2) edge[bend right] (node3);


\end{tikzpicture}
\end{center}

\end{frame}


\begin{frame}[containsverbatim]{Packages, nodes and launch files}
\begin{shcode}
$ cd my_package
$ ls
CMakeLists.txt
cfg/
include/
launch/
msgs/
nodes/
package.xml
src/
$ rosrun my_package my_node
\end{shcode}
\end{frame}

\begin{frame}[containsverbatim]{Packages, nodes and launch files}
\begin{xmlcode}
<launch>

  <arg name="head_frame" default="head_camera"/>
  <arg name="image" default="/camera/rgb/image_raw"/>

  <node pkg="attention_tracker" type="focus" />

  <node pkg="attention_tracker" type="estimate">
    <param name="face_model" 
        value="$(find attention_tracker)/model.dat" />
    <remap from="/image" to="$(arg image)"/>
  </node>

</launch>
\end{xmlcode}
\begin{shcode}
$ roslaunch my_package my_system.launch
\end{shcode}
\end{frame}



\begin{frame}[containsverbatim]{Messages}

\begin{shcode}
$ rosmsg show geometry_msgs/Pose
geometry_msgs/Point position
  float64 x
  float64 y
  float64 z
geometry_msgs/Quaternion orientation
  float64 x
  float64 y
  float64 z
  float64 w
\end{shcode}
\end{frame}

\begin{frame}[containsverbatim]{Messages}
\begin{shcode}
$ rosmsg show sensor_msgs/Image 
std_msgs/Header header
    uint32 seq
    time stamp
    string frame_id
uint32 height
uint32 width
string encoding
uint8 is_bigendian
uint32 step
uint8[] data
\end{shcode}

\end{frame}

\begin{frame}[containsverbatim]{Messages}
\begin{shcode}
$ rostopic echo /camera/image_raw 
header: 
    seq: 56
    stamp: 
      secs: 1449243166
      nsecs: 415330019
    frame_id: /camera_frame
height: 720
width: 1280
encoding: rgb8
is_bigendian: 0
step: 3840
data: [32, 57, 51, 36, 61, 55, 41, 63, 60,...
\end{shcode}
\end{frame}


\begin{frame}{ROS vs YARP terminology}
    \begin{table}[]
        \begin{tabularx}{\linewidth}{l>{\raggedright}X}
            \toprule
            \textbf{YARP}			& \textbf{ROS} \tabularnewline
            \midrule
            \texttt{Port}		& \texttt{topic} \tabularnewline
            \texttt{RpcClient/RpcServer} & \texttt{action} (async) or \texttt{service} (sync) \tabularnewline
            \texttt{Bottle}		& \texttt{message} \tabularnewline
            \midrule
            \texttt{yarpserver}		& \texttt{roscore} \tabularnewline
            \bottomrule
        \end{tabularx}
    \end{table}

    Connections of ports: explicit with YARP, implicit with ROS
\end{frame}


\begin{frame}{Transformations}
    \only<1>{
    \begin{center}
        \includegraphics[height=0.9\textheight]{nao_markers}
    \end{center}
}
%\only<2> {
%    \input{sketches/scene-graph-only-cube.tex}
%}
\only<2> {
    \begin{center}
    \input{sketches/scene-graph-cube.tex}
    \end{center}
}
\end{frame}

\begin{frame}{Frames}

\begin{center}
\resizebox{0.9\textwidth}{!}{%
\begin{tikzpicture}[
                    >=latex,
                    every edge/.style={->, draw, very thick},
                    service/.style={->, draw, very thick,dashed},
                    rosnode/.style={draw, font=\sf, node distance=0.5, rounded
                    corners, align=center, inner sep=5pt,fill=hriSec2Dark!50},
                    topic/.style={font=\tt, node distance=0.5, align=center, inner sep=5pt},
                    pic/.style={fill=none,draw=none}
                ]

    \node [rosnode] at (-2,1) (node1) {robot odometry};
    \node [rosnode] at (4,-2) (node2) {robot state publisher};
    \node [rosnode] at (-6,-4) (node3) {object tracker};

    \node [topic] at (-1,-1) (tf1) {/base\_link $\rightarrow$ /map};
    \node [topic] at (0,-5) (tf2) {/camera $\rightarrow$ /base\_link};
    \node [topic] at (-1,-4) (tf3) {/gripper $\rightarrow$ /base\_link};
    \node [topic] at (-4,-2) (tf4) {/table $\rightarrow$ /map};

    \path (node1) edge[bend left] node[label,right] {broadcasts} (tf1);
    \path (node2) edge[bend left] node[label,right] {broadcasts} (tf2);
    \path (node2) edge[bend right] (tf3);
    \path (node3) edge[bend left] node[label,left] {broadcasts} (tf4);

\end{tikzpicture}
}
\end{center}

\end{frame}

\begin{frame}[containsverbatim]{}

\begin{cppcode}
#include <ros/ros.h>
#include <tf/transform_broadcaster.h>

int main(int argc, char** argv){
  float x=0.f,y=0.f,theta=0.f;

  ros::init(argc, argv, "my_tf_broadcaster");
  tf::TransformBroadcaster br;
  ros::Rate rate(10); // 10 hz

  while (ros::ok()) {
    tf::Transform transform(tf::Quaternion(0, 0, theta), 
                            tf::Vector3(x, y, 0.0));
    br.sendTransform(tf::StampedTransform(transform, 
                                          ros::Time::now(), 
                                          "map", "my_robot"));
    x++;
    rate.sleep();
  }
  return 0;
};
\end{cppcode}

\end{frame}

\begin{frame}[containsverbatim]{}

\begin{shcode}
$ g++ tf.cpp -o tf -lroscpp -lrostime -lboost_system -ltf
$ ./tf
\end{shcode}

\end{frame}


\begin{frame}[containsverbatim]{}
\begin{shcode}
$ rostopic echo tf
transforms: 
  - 
    header: 
      seq: 0
      stamp: 
        secs: 1449488936
        nsecs: 480597909
      frame_id: map
    child_frame_id: my_robot
    transform: 
      translation: 
        x: 239.0
        y: 0.0
        z: 0.0
      rotation: 
        x: 0.0
        y: 0.0
        z: 0.0
        w: 1.0
---

\end{shcode}

\end{frame}

\begin{frame}{To summarize: key concepts}
    \begin{itemize}
        \item Package, Node, Nodelet, Launch files
        \item Master
        \item Messages
        \item Topics
        \item Services
        \item Actions
        \item Transformations/frames
    \end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Tooling}

\begin{frame}{Tools}
    \begin{table}[]
        \begin{tabularx}{\linewidth}{l>{\raggedright}X}
            \toprule
            \texttt{rviz} & versatile 2D/3D visualization \tabularnewline
            \texttt{rosconsole} & Centralized logging \tabularnewline
            \texttt{rosbag} & Record and replay messages \tabularnewline
            \texttt{rqt\_reconfigure} & Live configuration of nodes \tabularnewline
            \texttt{rqt\_diagnostics} & Standardized diagnostics \tabularnewline
            \texttt{rosgraph} & plots the node network \tabularnewline
            + tons of introspection tools & Print out/publish/call messages, services, nodes \tabularnewline
            \bottomrule
        \end{tabularx}
    \end{table}
\end{frame}

\imageframe[black]{}{rviz}
\imageframe[black]{}{console}
\imageframe[black]{}{bag}
\imageframe[black]{}{dynamic_reconfigure}

\begin{frame}{ROS vs YARP tools}
    \begin{table}[]
        \begin{tabularx}{\linewidth}{l>{\raggedright}X}
            \toprule
            \textbf{YARP}			& \textbf{ROS} \tabularnewline
            \midrule
            \texttt{yarpscope/yarpview}		& \texttt{rviz} \tabularnewline
            \texttt{yarpdatadumper/yarpdataplayer}		& \texttt{rosbag} \tabularnewline
            \texttt{yarpmanager}		& \texttt{roslaunch} \tabularnewline
            \bottomrule
        \end{tabularx}
    \end{table}

\end{frame}

\begin{frame}[plain]
    \centering
    \resizebox{0.9\textwidth}{!}{%
        \vspace*{4cm}
        \begin{tikzpicture}

            \path[small mindmap,
                  level 1 concept/.append style={sibling angle=360/5}, 
                  level 2 concept/.append style={sibling angle=60}, 
                  concept color=hriWarmGreyLight,text=hriWarmGreyDark]

            node[concept] {\Medium ROS}
            [clockwise from=-180]
            child[concept color=hriSec1Dark,text=white] { node[concept]{Middleware} 
                [clockwise from=-120]
                child[concept color=hriSec1CompDark,text=white] { node[concept]{Standard Interfaces} }
                child[concept color=hriSec3CompDark,text=white] { node[concept]{Nodes Management} }
                child[concept color=hriSec2Dark,text=white] { node[concept]{IPC} }
            }
            child[concept color=hriSec3Comp,text=white] { node[concept] {Standards and Conventions} }
            child[concept color=hriSec2CompDark,text=white] { node[concept]{Community}
                [clockwise from=90]
                child[concept color=hriSec2Comp,text=white] { node[concept]{Software engineering infrastructure} }
                child[concept color=hriSec1,text=white] { node[concept] {REPs} }
                child[concept color=hriSec3,text=white] { node[concept] {ROSCon} }
            }
            child[concept color=hriSec3Dark,text=white] { node[concept] {Large software library} 
                [clockwise from=0]
                child[concept color=hriSec2Dark,text=white] { node[concept] {Satellite libraries} }
            }
            child[concept color=hriSec3CompDark,text=white] { node[concept] {Tooling} };

            \node[align=left] at (-4,4) {\Medium That's all folks!\\ {\tt
                http://ros.org}};

            \node[align=left] at (0,-4) {Slides available online:\\ {\tt
            www.github.com/severin-lemaignan/ros-presentation}};
        \end{tikzpicture}
    }
\end{frame}

\end{document}






